<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Exodus: cbind/src/ex_cvt_nodes_to_sides.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Exodus
   &#160;<span id="projectnumber">6.22</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ex__cvt__nodes__to__sides_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ex_cvt_nodes_to_sides.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;ctype.h&gt;</code><br />
<code>#include &lt;inttypes.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &quot;<a class="el" href="exodusII_8h_source.html">exodusII.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="exodusII__int_8h_source.html">exodusII_int.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6037c4a24a3b8a4123004291e3ac34ac"><td class="memItemLeft" align="right" valign="top">static int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ex__cvt__nodes__to__sides_8c.html#a6037c4a24a3b8a4123004291e3ac34ac">get_node</a> (<a class="el" href="exodusII_8h.html#a393bfb7fb8f56a222e639df9736bb797">void_int</a> *connect, size_t index, size_t int_size)</td></tr>
<tr class="separator:a6037c4a24a3b8a4123004291e3ac34ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88c35113a2d94581320b4f4563c3581c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ex__cvt__nodes__to__sides_8c.html#a88c35113a2d94581320b4f4563c3581c">put_side</a> (<a class="el" href="exodusII_8h.html#a393bfb7fb8f56a222e639df9736bb797">void_int</a> *side_list, size_t index, size_t value, size_t int_size)</td></tr>
<tr class="separator:a88c35113a2d94581320b4f4563c3581c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27866a3e7d0d04c5849cd34ccd13b579"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ex__cvt__nodes__to__sides_8c.html#a27866a3e7d0d04c5849cd34ccd13b579">ex_cvt_nodes_to_sides</a> (int exoid, <a class="el" href="exodusII_8h.html#a393bfb7fb8f56a222e639df9736bb797">void_int</a> *num_elem_per_set, <a class="el" href="exodusII_8h.html#a393bfb7fb8f56a222e639df9736bb797">void_int</a> *num_nodes_per_set, <a class="el" href="exodusII_8h.html#a393bfb7fb8f56a222e639df9736bb797">void_int</a> *side_sets_elem_index, <a class="el" href="exodusII_8h.html#a393bfb7fb8f56a222e639df9736bb797">void_int</a> *side_sets_node_index, <a class="el" href="exodusII_8h.html#a393bfb7fb8f56a222e639df9736bb797">void_int</a> *side_sets_elem_list, <a class="el" href="exodusII_8h.html#a393bfb7fb8f56a222e639df9736bb797">void_int</a> *side_sets_node_list, <a class="el" href="exodusII_8h.html#a393bfb7fb8f56a222e639df9736bb797">void_int</a> *side_sets_side_list)</td></tr>
<tr class="separator:a27866a3e7d0d04c5849cd34ccd13b579"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a27866a3e7d0d04c5849cd34ccd13b579"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ex_cvt_nodes_to_sides </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>exoid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="exodusII_8h.html#a393bfb7fb8f56a222e639df9736bb797">void_int</a> *&#160;</td>
          <td class="paramname"><em>num_elem_per_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="exodusII_8h.html#a393bfb7fb8f56a222e639df9736bb797">void_int</a> *&#160;</td>
          <td class="paramname"><em>num_nodes_per_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="exodusII_8h.html#a393bfb7fb8f56a222e639df9736bb797">void_int</a> *&#160;</td>
          <td class="paramname"><em>side_sets_elem_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="exodusII_8h.html#a393bfb7fb8f56a222e639df9736bb797">void_int</a> *&#160;</td>
          <td class="paramname"><em>side_sets_node_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="exodusII_8h.html#a393bfb7fb8f56a222e639df9736bb797">void_int</a> *&#160;</td>
          <td class="paramname"><em>side_sets_elem_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="exodusII_8h.html#a393bfb7fb8f56a222e639df9736bb797">void_int</a> *&#160;</td>
          <td class="paramname"><em>side_sets_node_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="exodusII_8h.html#a393bfb7fb8f56a222e639df9736bb797">void_int</a> *&#160;</td>
          <td class="paramname"><em>side_sets_side_list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function <a class="el" href="ex__cvt__nodes__to__sides_8c.html#a27866a3e7d0d04c5849cd34ccd13b579">ex_cvt_nodes_to_sides()</a> is used to convert a side set node list to a side set side list. This routine is provided for application programs that utilize side sets defined by nodes (as was done previous to release 2.0) rather than local faces or edges. The application program must allocate memory for the returned array of sides. The length of this array is the same as the length of the concatenated side sets element list, which can be determined with a call to <a class="el" href="exodusII_8h.html#aa6bc066556b8d95a2615a0a50ec9d1c8">ex_inquire()</a> or <a class="el" href="exodusII_8h.html#ad63f55ef14b0bc1be95b98824a807307">ex_inquire_int()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>In case of an error, <a class="el" href="ex__cvt__nodes__to__sides_8c.html#a27866a3e7d0d04c5849cd34ccd13b579">ex_cvt_nodes_to_sides()</a> returns a negative number; a warning will return a positive number. Possible causes of errors include:<ul>
<li>a warning value is returned if no side sets are stored in the file.</li>
<li>because the faces of a wedge require a different number of nodes to describe them (quadrilateral vs. triangular faces), the function will abort with a fatal return code if a wedge is encountered in the side set element list.</li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">exoid</td><td>exodus file ID returned from a previous call to <a class="el" href="exodusII_8h.html#a37c928f7e30c333ee7c704d04f7e3a87">ex_create()</a> or <a class="el" href="exodusII_8h.html#a9a940cd55241b5c5e7960a123d79c94c">ex_open()</a>.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_elem_per_set</td><td>Array containing the number of sides for each set. The number of sides is equal to the number of elements for each set.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_nodes_per_set</td><td>Array containing the number of nodes for each set.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">side_sets_elem_index</td><td>Array containing indices into the <code>side_sets_elem_list</code> which are the locations of the first element for each set. These indices are 0-based. Unused.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">side_sets_node_index</td><td>Array containing indices into the <code>side_sets_node_list</code> which are the locations of the first node for each set. These indices are 0-based. Unused.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">side_sets_elem_list</td><td>Array containing the elements for all side sets. Internal element IDs are used in this list (see Section LocalElementIds).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">side_sets_node_list</td><td>Array containing the nodes for all side sets. Internal node IDs are used in this list (see Section LocalNodeIds).</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">side_sets_side_list</td><td>Returned array containing the sides for all side sets.</td></tr>
  </table>
  </dd>
</dl>
<p>The following code segment will convert side sets described by nodes to side sets described by local side numbers:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;int error, exoid, ids[2], num_side_per_set[2],</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    num_nodes_per_set[2], elem_ind[2], node_ind[2],</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    elem_list[4], node_list[8], el_lst_len, *side_list;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;ids[0] = 30             ; ids[1]  = 31;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;num_side_per_set[0]  = 2; num_side_per_set[1] = 2;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;num_nodes_per_set[0] = 4; num_nodes_per_set[1] = 4;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;elem_ind[0] = 0; elem_ind[1] = 2;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;node_ind[0] = 0; node_ind[1] = 4;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;\comment{side set #1}</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;elem_list[0] = 2; elem_list[1] = 2;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;node_list[0] = 8; node_list[1] = 5;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;node_list[2] = 6; node_list[3] = 7;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;\comment{side set #2}</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;elem_list[2] = 1; elem_list[3] = 2;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;node_list[4] = 2; node_list[5] = 3;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;node_list[6] = 7; node_list[7] = 8;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;el_lst_len = ex_inquire_int(exoid, EX_INQ_SS_ELEM_LEN);</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;\comment{side set element list is same length as side list}</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;side_list = (int *) calloc (el_lst_len, sizeof(int));</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;ex_cvt_nodes_to_sides(exoid, num_side_per_set, num_nodes_per_set,</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;                      elem_ind, node_ind, elem_list,</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;                      node_list, side_list);</div>
</div><!-- fragment --><p><b>Algorithm:</b></p>
<pre class="fragment">  Read elem_block_ids --&gt; elem_blk_id[array]

  Read element block parameters --&gt; elem_blk_parms[array]

  Determine total number of elements in side set by summing num_elem_per_set

  Build side set element to side set node list index --&gt; ss_elem_node_ndx[array]

  For each element in the side_set_elem_list  {
    If Jth element is not in current element block (e.g. J&gt;elem_ctr) {
      get element block parameters (num_elem_in_blk, ...)
      elem_ctr += num_elem_in_blk

      free old connectity array space
      allocate connectivity array: size=num_elem_in_blk*num_nodes_per_elem
      get connectivity array
    }

    If Jth element is in current element block (e.g. J&lt;=elem_ctr) {
      For each node in element (linear search of up to num_nodes_per_elem) {
        If side set element node[1] == element node[i] {
          Case element type = Hex {
            If side set element node[2] == element node[Hex_table[i,1]]
              Jth side = Hex_table[i,2]

             break
          }
          Case element type = Wedge {
            If side set element node[2] == element node[Wedge_table[i,1]]
              Jth side = Wedge_table[i,2]

            break
          }
        }
      }
    }
  }
</pre> 
</div>
</div>
<a class="anchor" id="a6037c4a24a3b8a4123004291e3ac34ac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int64_t get_node </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="exodusII_8h.html#a393bfb7fb8f56a222e639df9736bb797">void_int</a> *&#160;</td>
          <td class="paramname"><em>connect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>int_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a88c35113a2d94581320b4f4563c3581c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void put_side </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="exodusII_8h.html#a393bfb7fb8f56a222e639df9736bb797">void_int</a> *&#160;</td>
          <td class="paramname"><em>side_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>int_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_7d6dc64f513e525fe762b640d7f473f7.html">cbind</a></li><li class="navelem"><a class="el" href="dir_203dc8b2781aa68868a5f637bad67f57.html">src</a></li><li class="navelem"><a class="el" href="ex__cvt__nodes__to__sides_8c.html">ex_cvt_nodes_to_sides.c</a></li>
    <li class="footer">Generated on Wed Dec 16 2015 09:59:39 for Exodus by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
